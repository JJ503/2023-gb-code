## 3.4 체크 및 어서션

> 컴파일러를 사용해 런타임 검사를 수행해 코드 계약을 확인하는 방법도 있음
테스트에 의존하기에 컴파일 타임만큼 강력하진 않지만, 컴파일 검사를 강제할 수 없는 경우 사용하면 유용함

<br>

### 1. 체크

- 코드 계약이 준수되었는지 확인하기 위한 추가적인 로직으로, 준수되지 않을 경우 체크는 실패를 유발하는 오류를 생성함
- 오용을 아예 불가능하게 만드는 해결 방법보단 이상적이지 못함
- 명백하게 파악되지 않는 상황보다는 낫지만, 체크의 효과가 보장되는 것은 아니다
- 코드에 체크가 많다면, 세부 조항을 없애는 것에 대해 고려해봐야 한다는 신호일지도 모른다



- **체크 계약 조건 범주**
    - 전제 조건 검사 : 일부 코드를 실행하기 전에 시스템이 유효한 상태인지 확인하는 경우
    - 사후 상태 검사 : 일부 코드를 실행한 후 시스템이 유효한 상태인지 확인하는 경우


- **체크를 사용으로 기대하는 것**
    - 버그가 아무도 모르게 발생하는 것을 방지함
    - 코드가 오용된 경우 개발 단게나 테스트 단계에서 발견되고 수정되는 것

<br>

### 2. 어서션

- 코드 계약을 준수하도록 강제하기 위한 방법
- 조건이 위반되면 오류가 명백하게 보이거나 예외가 발생함


- **어서션과 체크의 차이**
    - 배포를 위해 빌드할 때 어서션은 보통 컴파일에서 제외된다는 점
    - 실제 서비스 환경에서 사용될 때 실패를 명백하게 보여주지 않음


- **코드 배포 시 컴파일하지 않는 이유**
    - 성능 향상을 위해
    - 코드 오류 발생률을 낮추기 위해
