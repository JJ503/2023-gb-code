### 3강 데이터베이스 서버

**0. 클라이언트-서버 관점의 데이터베이스**

- 많은 RDBMS는 클라이언트-서버 모델로 동작한다.
    - 웹 서버와 통신하는 데이터베이스 서버의 관점에서, 웹 서버는 클라이언트이고 데이터베이스는 웹과 네트워크로 연결된 서버이다.
    - 클라이언트-서버 구조인 이유: rdbms가 복수의 클라이언트 요청에 응답할 수 있어야 하기 때문
    - 클라이언트(웹)이 접속 요청, 데이터 조회 요청 등을 서버(데이터베이스)에 보내면 응답을 반환한다
    - 일반적으로는 하나의 서버를 통채로 RDBMS로 사용한다.

**1. 클라이언트/서버 모델**

- 정의
    - 사용자의 조작에 따라 요청을 전달하는 ‘클라이언트’ 와
    - 요청을 받아 처리하는 ‘서버’ 로 구성
    - 즉 여러 컴퓨터로 누구는 클라이언트를, 누구는 서버를 담당하게 된다
        - 클라이언트/서버 모델은 복수의 컴퓨터 상에서 하나의 모델을 구현하는 시스템을 의미한다
- 웹 시스템에서의 클라이언트-서버
    - 웹 시스템: 브라우저(화면창, 클라이언트)와 웹 서버로 구성된 클라이언트-서버 모델의 시스템
    - 브라우저: 클라이언트 역할, 사용자가 지정한 URL과 연결된 웹 서버에 **요청(== request)** 을 보낸다
    - 웹 서버: 자신이 받은 클라이언트의 요청에 따른 결과 **(==응답 == response)** 반환
        - “어떤 페이지를 보여줘!” 라는 요청이라면, html을 반환한다.
        - 데이터는 네트워크를 통해 전송된다.
- RDBMS의 클라이언트-서버
    - RDBMS는 클라이언트-서버 모델로 시스템 구성됨
    - 하지만, 요청과 응답을 되풀이 하는 것은 아님
        - **사용자 인증** 필요
            - 사용자 별로 데이터베이스 접근을 제한할 수 있다. → DB를 사용하기 전에는 사용자 인증을 거쳐야 함 (by. ID, PWD)

**클라이언트-서버 모델은 시스템 하드웨어 구성을 유연하게 변경하도록 도와준다 (서버 하나만으로는 부족해지면, 추가로 서버를 설치 → 분산 시켜서 시스템의 전체적 성능을 향상할 수 있음)**

- SQL 명령 실행
    - RDBMS에 접속하면, SQL 명령을 서버에 보낼 수 있다.
    - 사용이 종료되면 DB 와의 접속이 끊김
        - 보통 클라이언트를 종료하면 DB 접속도 끊긴다.

**2. 웹 어플리케이션의 구조**

- 웹 어플리케이션의 일반적인 구조: 웹 서버 + 데이터베이스 서버
    - 브라우저: 클라이언트, 아파치 같은 웹 소프트웨어: 서버
    - 정적인 HTML로만 구성되어 있다면? → 웹 서버만으로도 충분히 사이트 구축 가능 (그냥 서버가 요청에 따라 이미 만들어진 HTML을 반환하면 되니까)
    - 웹 어플리케이션: 더 큰 규모 → 데이터베이스가 필요하다!
    - 웹 서버에서 동적인 HTML을 생성하기 위해 사용하는 제어용 프로그램: CGI
        - CGI: 동적 콘텐츠를 위한 확장 방식 → 이걸 사용해 프로그램과 웹 서버를 연동하고 통신한다.
        
       ![image](https://user-images.githubusercontent.com/70891072/233819840-97940d5b-6211-4dce-bda3-8b72c767fb86.png)

        
    - 실제로 데이터베이스에 접속하는 것은 CGI 프로그램이다.
    - DB 서버에 접속 → SQL 명령 전달 → 클라이언트가 결과 받음
        - **웹 서버의 CGI 프로그램이 데이터베이스의 클라이언트가 된다**
        
        ![image](https://user-images.githubusercontent.com/70891072/233819849-5681503d-f7c8-467f-89a1-c9608a292115.png)

    - 웹 서버와 데이터베이스 서버를 서로 다른 머신에 두면 처리가 분산되어 시스템의 전체적인 성능 향상됨 (즉 웹 서버에서 외부에 있는 DB 서버에 네트워크로 접근하게 되는 것)

**3. MySQL 서버와 mysql 클라이언트**

실습에서는 한 컴퓨터에서 DB 서버와 클라이언트를 같이 사용한다!

- MySQL 서비스: DB 서버, mysql 커맨드: 클라이언트
- PC 한 대로 클라이언트, 서버 모두 사용해도 네트워크는 필요하다.
    - 클라이언트 → 네트워크 → 다시 로컬 컴퓨터의 서버로 돌아오는 것: “루프 백 접속”
