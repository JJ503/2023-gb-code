### 7강. 조건 조합하기

여러 조건을 조합해서 복잡한 조건식 생성 → 더 세밀한 검색 가능

- 논리 연산자 AND, OR, NOT
    - 조건1 **AND** 조건2 → 두 조건의 교집합
    - 조건1 **OR** 조건2 → 두 조건의 합집합
    - **NOT** 조건 → 조건의 여집합 (그 조건에 해당하지 않는 모든 것)

**1. AND로 조합하기**

- AND: 모든 조건을 만족해야 한다
    - `좌 AND 우`
        - 양쪽에 항이 모두 필요한 이항 연산자
        - 좌우가 모두 true라면? 조건식 true
        - 즉, **모든 조건을 만족해야 한다** 의 의미
    - ex) a열과 b열이 모두 0이 아닌 데이터를 조회한다
        - `SELECT * FROM 테이블 WHERE a <> 0 AND b <> 0;`
        - 두 조건의 교집합이 조회된다

**2. OR로 조합하기**

- OR: 조건들 중 하나라도 만족하면 된다
    - `좌 OR 우`
        - 양쪽에 모두 항이 필요한 이항 연산자
        - 좌우 중 하나라도 true라면? 조건식 true
        - 좌우 둘 다 거짓이라면? false
        - 즉, **좌 또는 우** 라는 의미
    - ex) a열이 0이 아니거나, b열이 0이 아닌 데이터를 조회한다
        - a와 b 둘 중 하나라도 0이 아니면 된다!
        - `SELECT * FROM 테이블 WHERE a <> 0 OR b <> 0;`
            1. a, b 가 둘 다 0이 아닌 경우
            2. a는 0인데 b가 0이 아닌 경우
            3. a가 0이 아니고 b가 0인 경우
    
**3. AND와 OR를 사용할 경우 주의할 점**

1. 좌우항에 모두 `열 연산자 값` 의 형태로 조건식을 작성해주어야 한다.
    - 그렇지 않으면 구문 오류는 나지 않지만, 원하는 결과가 나오지 않는다.
    - `SELECT * FROM 테이블 WHERE no = 1 OR 2;`
        - **우항의 상수’2’: 논리 연산으로 항상 true로 취급** → 모든 값이 다 조회 된다 (1 또는 2라는 의미가 반영되지 않음)

2. AND와 OR 조합해서 사용하기 → 우선 순위 문제

> 상황 가정: a가 0, 1, 2 를 가지고 b가 0, 1, 2 를 가지는 테이블이 있다.

- a가 0이 아니고, b도 0이 아닌 데이터를 조회한다
    1. `WHERE a <> 0 AND b <> 0` → 원하는 조회 성공
    2. `WHERE a = 1 OR a = 2 AND b = 1 OR b = 2` → 의도한 결과가 안나옴
        
        ![image](https://user-images.githubusercontent.com/70891072/233820124-46fb0e4a-bfb7-4307-89e6-40881d23b853.png)
        
        → a, b가 둘 다 0이 아닌 결과 외의 결과들도 조회된다.
        
        → a, b 가 둘 다 0이 아닌데도 조회되지 않은 행도 있다.
        
- 이유: **연산자의 우선 순위**
    - AND와 OR의 계산 우선순위가 다르기 때문이다!
    - **우선순위: AND > OR**
        - `WHERE a = 1 OR a = 2 AND b = 1 OR b = 2` : 조건식
        - `WHERE a = 1 OR (a = 2 AND b = 1) OR b = 2` : 잘못된 실제 계산 순서
        - `WHERE (a = 1 OR a = 2) AND (b = 1 OR b = 2`) : 의도한 계산 순서
    - **위 예시처럼 괄호로 우선순위를 지정할 수 있다**

**4. NOT으로 조합**

- NOT: “~이 아닌”, “~ 외에”, “~를 제외한 나머지” 의 의미
    - `NOT 조건식`
        - 오른쪽에만 항을 지정하는 단항 연산자
        - 오른쪽 식의 반대값을 반환한다
            - ex) 조건식이 true라면 NOT 조건식은 false 반환
    - ex) `WHERE NOT (a <> 0 OR b <> 0)`
        - `a <> 0 이거나 b <> 0` 이 아닌 결과를 조회
            
            ![image](https://user-images.githubusercontent.com/70891072/233820130-616ada58-0b89-44a4-8dc6-5f52b59fbd19.png)
           
        → 진한 검정색 (합집합의 바깥쪽) 만 조회 된다.
