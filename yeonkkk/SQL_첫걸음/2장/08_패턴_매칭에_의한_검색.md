# 08강. 패턴 매칭에 의한 검색

```sql
열 LIKE 패턴
```

* LIKE 술어를 사용하면 문자열의 일부분을 비교하여 검색이 가능하다.  
* 특정 문자나 문자열이 포함되어 있는지를 검색하고 싶은 경우 사용한다.
* '패턴 매칭' 또는 '부분 검색'이라고도 한다.

<br><br>

## 1. LIKE로 패턴 매칭하기
> LIKE 술어를 사용하여 패턴 매칭으로 검색할 수 있다.  
> 패턴을 정의할 때 사용할 수 있는 메타문자로는 `%`와`_`이 있다.  

* LIKE 술어를 사용하면 열 값이 부분적으로 일치하는 경우에도 참이 된다.
* 오른쪽에는 패턴을 문자열로 지정한다.
* 패턴을 정의할 때는 메타문자를 사용할 수 있다.

<br><br>

#### LIKE에서 사용할 수 있는 메타문자
```sql
%_
```

* 패턴 매칭 시 '임의의 문자 또는 문자열'에 매치하는 부분을 지정하기 위해 쓰인다.
* `%`: 임의의 문자열
* `_`: 임의의 문자 하나

<br><br>

#### 패턴 매칭의 종류
> %는 임의의 문자열과 매치하며, 빈 문자열에도 매치한다.  

* 전방 일치
```sql
SELECT * FROM 테이블명 WHERE 열 LIKE '문자열%';
```

* 중간 일치
```sql
SELECT * FROM 테이블명 WHERE 열 LIKE '%문자열%';
```

* 후방 일치
```sql
SELECT * FROM 테이블명 WHERE 열 LIKE '%문자열';
```


<br><br>

## 2. LIKE로 % 검색하기

* 메타문자와 동일한 문자로 LIKE로 검색할 경우, 이스케이프로 처리한다.


* %를 검색하는 경우 '\%'로, _를 검색하는 경우 '\_'로 작성할 수 있다.
```sql
-- % 검색
SELECT * FROM 테이블명 WHERE 열 LIKE '%\%%';

-- _ 검색
SELECT * FROM 테이블명 WHERE 열 LIKE '\__';
```

<br><br>

## 3. 문자열 상수 `'`의 이스케이프

> `'`을 문자열 상수 안에 포함할 경우는 `'`를 2개 연속해서 기술한다.

```sql
-- It's 표현
'It''s'
```

복잡한 패턴을 매칭하는 경우는 정규 표현식을 사용하는 것이 좋다.  
